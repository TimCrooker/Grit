"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[299],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),f=c(r),m=o,d=f["".concat(s,".").concat(m)]||f[m]||p[m]||a;return r?n.createElement(d,i(i({ref:t},u),{},{components:r})):n.createElement(d,i({ref:t},u))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},2428:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return u},default:function(){return f}});var n=r(3117),o=r(102),a=(r(7294),r(3905)),i=["components"],l={},s="Overview",c={unversionedId:"create-generator/overview",id:"create-generator/overview",title:"Overview",description:"Anatomy of a Generator",source:"@site/docs/create-generator/overview.md",sourceDirName:"create-generator",slug:"/create-generator/overview",permalink:"/Grit/docs/create-generator/overview",editUrl:"https://github.com/TimCrooker/Grit/edit/master/docs/docs/create-generator/overview.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Help",permalink:"/Grit/docs/usage/help"},next:{title:"Quick Start",permalink:"/Grit/docs/create-generator/quick-start"}},u=[{value:"Anatomy of a Generator",id:"anatomy-of-a-generator",children:[{value:"Template",id:"template",children:[{value:"EJS transformation",id:"ejs-transformation",children:[],level:4}],level:3},{value:"Generator File",id:"generator-file",children:[],level:3},{value:"Plugins",id:"plugins",children:[],level:3}],level:2}],p={toc:u};function f(e){var t=e.components,r=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"overview"},"Overview"),(0,a.kt)("h2",{id:"anatomy-of-a-generator"},"Anatomy of a Generator"),(0,a.kt)("p",null,"Generators can be as simple or as complex as is neccessary to generate the ouput they require. A barebones example file structure of a generator is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\ud83d\udce6example-generator\n\u2523 \ud83d\udcc2plugins // plugins directory\n \u2523 \ud83d\udcc2firstPlugin\n \u2523 \ud83d\udcc2secondOne\n\u2523 \ud83d\udcdcgrit.config.js // generator file\n\u2523 \ud83d\udcc2template // template directory\n \u2523 \ud83d\udcdcREADME.md\n")),(0,a.kt)("h3",{id:"template"},"Template"),(0,a.kt)("p",null,"The template directory contains all of the main files that a generator has access to at runtime. The file-tree structure of the contents of this directory will be directly reflected by the output of the generator to the specified output directory."),(0,a.kt)("p",null,"The simplest possible generator consists nothing but a template directory. In this case grit will use a default configuration that simply copies the files to the destination directory and performs no further manipulations."),(0,a.kt)("p",null,"There are no limits on the type or number of files or directories that can be included"),(0,a.kt)("h4",{id:"ejs-transformation"},"EJS transformation"),(0,a.kt)("p",null,"Grit takes advantage of the ",(0,a.kt)("a",{parentName:"p",href:"https://ejs.co/"},"EJS")," javascript templating engine to transform the files inside the template directory based on answers recieved from users at generator runtime."),(0,a.kt)("p",null,"The key benefit of this process is the ease of injecting custom variables into the template files. This may sound confusing at first but the below example should give you a better idea of how this works."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example:")),(0,a.kt)("p",null,"Assume we have a simple generator structured as follows"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\ud83d\udce6example-generator\n\u2523 \ud83d\udcdcgrit.config.js\n\u2523 \ud83d\udcc2template\n \u2523 \ud83d\udcdcREADME.md\n\n// contents of README.md\n# Hello from <%= name %>\n")),(0,a.kt)("p",null,"When executed, this generator only asks one question to obtain the string varaible ",(0,a.kt)("inlineCode",{parentName:"p"},"name"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"? What is your name? > John\n")),(0,a.kt)("p",null,"Since the user submitted the string 'John' as the answer, the varable ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," will be set to 'John' in the generator"),(0,a.kt)("p",null,"After the generator outputs its files you see that the README.md file actaully contains the following content:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-markdown"},"# Hello from John\n")),(0,a.kt)("p",null,"The variable ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," is injected directly into the template files to be used by the EJS preprocessor, indicated by the ",(0,a.kt)("inlineCode",{parentName:"p"},"<%=")," opening tag and ",(0,a.kt)("inlineCode",{parentName:"p"},"%>")," closing tag. These tags can encapsulate javascript code or variables provided by the generator to easily transform code output inside of a file."),(0,a.kt)("p",null,"It is highly recommended that you read the ",(0,a.kt)("a",{parentName:"p",href:"https://ejs.co/"},"EJS docs")," to become familiar with this powerful feature."),(0,a.kt)("h3",{id:"generator-file"},(0,a.kt)("a",{parentName:"h3",href:"generator-file/overview"},"Generator File")),(0,a.kt)("p",null,"The generator file defines all of the generator logic and is the central locus of control for the everything the generator does."),(0,a.kt)("h3",{id:"plugins"},"Plugins"),(0,a.kt)("p",null,"Grit plugins are a very useful mechanism for extending generator functionality in a modular way."))}f.isMDXComponent=!0}}]);